<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ابزار پیشرفته جمع‌آوری اطلاعات دامنه</title>
    <style>
        :root {--primary-color:#3F51B5;--secondary-color:#303F9F;--success-color:#4CAF50;--danger-color:#F44336;--warning-color:#FFC107;--info-color:#2196F3;--light-color:#F5F5F5;--dark-color:#212121;--gray-color:#757575;}
        * {box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
        body {background-color:#f0f2f5;color:var(--dark-color);line-height:1.6;padding:20px;}
        .container {max-width:1200px;margin:0 auto;background-color:white;border-radius:10px;box-shadow:0 2px 15px rgba(0,0,0,0.1);padding:25px;}
        header {text-align:center;margin-bottom:30px;border-bottom:1px solid #eee;padding-bottom:15px;}
        h1 {color:var(--primary-color);margin-bottom:10px;font-weight:700;}
        .subtitle {color:var(--gray-color);margin-bottom:15px;}
        .input-section {display:flex;gap:10px;margin-bottom:25px;align-items:center;justify-content:center;}
        input[type="text"] {flex:1;padding:12px 15px;border:1px solid #ddd;border-radius:5px;font-size:16px;max-width:500px;direction:ltr;transition:border-color 0.3s;}
        input[type="text"]:focus {border-color:var(--primary-color);outline:none;box-shadow:0 0 0 2px rgba(63,81,181,0.2);}
        button {padding:12px 20px;background-color:var(--primary-color);color:white;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:all 0.3s;font-weight:600;}
        button:hover {background-color:var(--secondary-color);transform:translateY(-2px);box-shadow:0 2px 5px rgba(0,0,0,0.2);}
        .loading {display:none;text-align:center;margin:20px 0;}
        .spinner {width:40px;height:40px;border:4px solid rgba(0,0,0,0.1);border-radius:50%;border-top:4px solid var(--primary-color);animation:spin 1s linear infinite;margin:0 auto 15px;}
        @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
        .results-section {display:none;margin-top:30px;}
        .tabs {display:flex;border-bottom:1px solid #ddd;margin-bottom:20px;flex-wrap:wrap;gap:5px;}
        .tab {padding:10px 20px;cursor:pointer;border-bottom:2px solid transparent;transition:all 0.3s;font-weight:500;}
        .tab.active {color:var(--primary-color);border-bottom:2px solid var(--primary-color);}
        .tab:hover:not(.active) {color:var(--gray-color);border-bottom:2px solid #ddd;}
        .tab-content {background-color:white;padding:20px;border-radius:5px;}
        .tab-pane {display:none;}
        .tab-pane.active {display:block;}
        .info-card {background-color:var(--light-color);border-radius:5px;padding:20px;margin-bottom:20px;box-shadow:0 1px 3px rgba(0,0,0,0.05);}
        .info-card h3 {margin-bottom:15px;color:var(--primary-color);display:flex;align-items:center;gap:8px;}
        .info-icon {width:20px;height:20px;fill:currentColor;}
        .subdomain-list,.dns-list,.cert-list,.reverse-ip-list,.whois-info,.port-list,.tech-list,.header-list,.wayback-list,.sitemap-list,.security-checks {list-style-type:none;max-height:400px;overflow-y:auto;padding:15px;background-color:white;border:1px solid #eee;border-radius:5px;font-size:14px;}
        .subdomain-list li,.dns-list li,.cert-list li,.reverse-ip-list li,.port-list li,.tech-list li,.header-list li,.wayback-list li,.sitemap-list li,.security-checks li {padding:10px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;}
        .subdomain-list li:last-child,.dns-list li:last-child,.cert-list li:last-child,.reverse-ip-list li:last-child,.port-list li:last-child,.tech-list li:last-child,.header-list li:last-child,.wayback-list li:last-child,.sitemap-list li:last-child,.security-checks li:last-child {border-bottom:none;}
        .subdomain-list li.alive {color:var(--success-color);}
        .subdomain-list li.dead {color:var(--danger-color);}
        .port-list li.open {color:var(--success-color);}
        .port-list li.closed {color:var(--danger-color);}
        .security-checks li.secure {color:var(--success-color);}
        .security-checks li.warning {color:var(--warning-color);}
        .security-checks li.insecure {color:var(--danger-color);}
        .status-badge {padding:3px 8px;border-radius:3px;font-size:12px;font-weight:bold;}
        .badge-success {background-color:rgba(76,175,80,0.1);color:var(--success-color);}
        .badge-danger {background-color:rgba(244,67,54,0.1);color:var(--danger-color);}
        .badge-warning {background-color:rgba(255,193,7,0.1);color:var(--warning-color);}
        .badge-info {background-color:rgba(33,150,243,0.1);color:var(--info-color);}
        .summary-section {margin-top:20px;margin-bottom:30px;display:grid;grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));gap:15px;}
        .summary-card {background-color:white;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,0.1);padding:15px;text-align:center;transition:transform 0.3s;}
        .summary-card:hover {transform:translateY(-5px);box-shadow:0 5px 15px rgba(0,0,0,0.1);}
        .summary-card h3 {color:var(--dark-color);margin-bottom:10px;font-size:16px;}
        .summary-card p {font-size:28px;font-weight:bold;color:var(--primary-color);}
        .action-buttons {display:flex;justify-content:center;gap:15px;margin-top:30px;}
        .btn-download {background-color:var(--success-color);}
        .btn-download:hover {background-color:#388E3C;}
        .btn-clear {background-color:var(--danger-color);}
        .btn-clear:hover {background-color:#D32F2F;}
        .error-message {color:var(--danger-color);text-align:center;margin:20px 0;font-weight:bold;display:none;padding:15px;background-color:rgba(244,67,54,0.1);border-radius:5px;}
        .whois-info {font-family:monospace;white-space:pre-wrap;direction:ltr;text-align:left;}
        .progress-container {width:100%;background-color:#f3f3f3;height:5px;margin-top:10px;border-radius:5px;overflow:hidden;display:none;}
        .progress-bar {height:100%;width:0;background-color:var(--primary-color);transition:width 0.3s ease;}
        .screenshot-container {width:100%;text-align:center;margin:20px 0;}
        .screenshot-container img {max-width:100%;border:1px solid #ddd;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,0.1);}
        .tech-list .tech-item {display:flex;align-items:center;gap:10px;}
        .tech-icon {width:20px;height:20px;}
        .key-value {display:flex;flex-direction:column;}
        .key-value span:first-child {font-weight:bold;color:var(--gray-color);font-size:12px;}
        @media (max-width:768px) {.input-section{flex-direction:column;}input[type="text"]{max-width:100%;}.tabs{gap:0;justify-content:space-between;}.tab{padding:10px 8px;font-size:13px;}}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ابزار پیشرفته جمع‌آوری اطلاعات دامنه</h1>
            <p class="subtitle">این ابزار اطلاعات جامع و کاملی از دامنه‌های مورد نظر شما را جمع‌آوری می‌کند</p>
        </header>

        <div class="input-section">
            <input type="text" id="domainInput" placeholder="دامنه را وارد کنید (مثال: example.com)" dir="ltr">
            <button id="scanButton">شروع اسکن پیشرفته</button>
        </div>

        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="loading" id="loadingSection">
            <div class="spinner"></div>
            <p>در حال جمع‌آوری اطلاعات جامع دامنه...</p>
            <p id="scanStatus">آماده‌سازی...</p>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="results-section" id="resultsSection">
            <div class="summary-section" id="summarySection">
                <div class="summary-card">
                    <h3>تعداد ساب‌دامنه‌ها</h3>
                    <p id="subdomainCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>تعداد گواهی‌نامه‌ها</h3>
                    <p id="certCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>رکوردهای DNS</h3>
                    <p id="dnsCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>دامنه‌های Reverse IP</h3>
                    <p id="reverseIPCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>پورت‌های باز</h3>
                    <p id="openPortCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>تکنولوژی‌ها</h3>
                    <p id="techCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>آرشیو Wayback</h3>
                    <p id="waybackCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>امتیاز امنیتی</h3>
                    <p id="securityScore">N/A</p>
                </div>
            </div>

            <div class="tabs">
                <div class="tab active" data-tab="subdomains">ساب‌دامنه‌ها</div>
                <div class="tab" data-tab="certificates">گواهی‌نامه‌ها</div>
                <div class="tab" data-tab="dns">رکوردهای DNS</div>
                <div class="tab" data-tab="whois">اطلاعات WHOIS</div>
                <div class="tab" data-tab="ports">اسکن پورت</div>
                <div class="tab" data-tab="headers">HTTP Headers</div>
                <div class="tab" data-tab="technologies">تکنولوژی‌ها</div>
                <div class="tab" data-tab="security">امنیت</div>
                <div class="tab" data-tab="wayback">آرشیو</div>
                <div class="tab" data-tab="sitemap">نقشه سایت</div>
                <div class="tab" data-tab="screenshot">اسکرین‌شات</div>
                <div class="tab" data-tab="reverseip">Reverse IP</div>
            </div>

            <div class="tab-content">
                <div class="tab-pane active" id="subdomains">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-4h2v2h-2zm0-10h2v8h-2z"/></svg>ساب‌دامنه‌های شناسایی شده</h3>
                        <p>لیست تمامی ساب‌دامنه‌های شناسایی شده به همراه وضعیت آنها.</p>
                        <ul class="subdomain-list" id="subdomainList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="certificates">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 2.18l7 3.12v4.7c0 4.67-3.13 8.96-7 10.27-3.87-1.31-7-5.6-7-10.27V6.3l7-3.12z"/><path d="M11 7v2h2V7h-2zm0 4v6h2v-6h-2z"/></svg>گواهی‌نامه‌های SSL/TLS</h3>
                        <p>لیست تمامی گواهی‌نامه‌های SSL/TLS مرتبط با دامنه.</p>
                        <ul class="cert-list" id="certList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="dns">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M19 15v4H5v-4h14m1-2H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1z"/><path d="M7 18.5c-.82 0-1.5-.67-1.5-1.5s.68-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM19 3v4H5V3h14m1-2H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1z"/><path d="M7 6.5c-.82 0-1.5-.67-1.5-1.5S6.18 3.5 7 3.5s1.5.68 1.5 1.5S7.83 6.5 7 6.5z"/></svg>رکوردهای DNS</h3>
                        <p>تمامی رکوردهای DNS شناسایی شده برای دامنه.</p>
                        <ul class="dns-list" id="dnsList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="whois">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>اطلاعات WHOIS</h3>
                        <p>اطلاعات ثبت دامنه، مالکیت و تاریخ‌های مهم.</p>
                        <pre class="whois-info" id="whoisInfo">در حال بارگذاری...</pre>
                    </div>
                </div>

                <div class="tab-pane" id="ports">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/></svg>اسکن پورت</h3>
                        <p>وضعیت پورت‌های معمول و سرویس‌های در حال اجرا.</p>
                        <ul class="port-list" id="portList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="headers">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>HTTP Headers</h3>
                        <p>هدرهای HTTP دریافتی از سرور.</p>
                        <ul class="header-list" id="headerList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="technologies">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M22 9V7h-2V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2v-2h-2V9h2zm-4 10H4V5h14v14zM6 13h5v4H6zm6-6h4v3h-4zm-6 0h5v5H6z"/></svg>تکنولوژی‌های مورد استفاده</h3>
                        <p>فناوری‌ها، فریم‌ورک‌ها و ابزارهای شناسایی شده در سایت.</p>
                        <ul class="tech-list" id="techList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="security">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>بررسی امنیتی</h3>
                        <p>بررسی وضعیت امنیتی سایت شامل هدرهای امنیتی، آسیب‌پذیری‌ها و پیکربندی.</p>
                        <ul class="security-checks" id="securityList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="wayback">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>آرشیو Wayback Machine</h3>
                        <p>تاریخچه‌ای از نسخه‌های قبلی سایت در Internet Archive.</p>
                        <ul class="wayback-list" id="waybackList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="sitemap">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"/></svg>نقشه سایت</h3>
                        <p>لیست صفحات اصلی سایت از طریق استخراج نقشه سایت.</p>
                        <ul class="sitemap-list" id="sitemapList"></ul>
                    </div>
                </div>

                <div class="tab-pane" id="screenshot">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>اسکرین‌شات</h3>
                        <p>تصویر گرفته شده از صفحه اصلی سایت.</p>
                        <div class="screenshot-container" id="screenshotContainer">
                            <div id="screenshotPlaceholder">در حال بارگذاری اسکرین‌شات...</div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane" id="reverseip">
                    <div class="info-card">
                        <h3><svg class="info-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>دامنه‌های Reverse IP</h3>
                        <p>سایر دامنه‌هایی که بر روی همان IP میزبانی می‌شوند.</p>
                        <ul class="reverse-ip-list" id="reverseIPList"></ul>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button id="downloadButton" class="btn-download">دانلود نتایج</button>
                <button id="clearButton" class="btn-clear">پاک کردن نتایج</button>
            </div>
        </div>
    </div>

    <script>
        const results = {
            subdomains: new Set(),
            certificates: [],
            dns: [],
            reverseIP: [],
            whois: "",
            ports: {},
            headers: {},
            technologies: [],
            security: [],
            wayback: [],
            sitemap: [],
            screenshot: "",
            subdomainsStatus: new Map(),
            securityScore: 0
        };
        
        const domainInput = document.getElementById('domainInput');
        const scanButton = document.getElementById('scanButton');
        const loadingSection = document.getElementById('loadingSection');
        const resultsSection = document.getElementById('resultsSection');
        const errorMessage = document.getElementById('errorMessage');
        const scanStatus = document.getElementById('scanStatus');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        
        const tabElements = {
            subdomainList: document.getElementById('subdomainList'),
            certList: document.getElementById('certList'),
            dnsList: document.getElementById('dnsList'),
            whoisInfo: document.getElementById('whoisInfo'),
            portList: document.getElementById('portList'),
            headerList: document.getElementById('headerList'),
            techList: document.getElementById('techList'),
            securityList: document.getElementById('securityList'),
            waybackList: document.getElementById('waybackList'),
            sitemapList: document.getElementById('sitemapList'),
            screenshotContainer: document.getElementById('screenshotContainer'),
            reverseIPList: document.getElementById('reverseIPList')
        };
        
        const countElements = {
            subdomainCount: document.getElementById('subdomainCount'),
            certCount: document.getElementById('certCount'),
            dnsCount: document.getElementById('dnsCount'),
            reverseIPCount: document.getElementById('reverseIPCount'),
            openPortCount: document.getElementById('openPortCount'),
            techCount: document.getElementById('techCount'),
            waybackCount: document.getElementById('waybackCount'),
            securityScore: document.getElementById('securityScore')
        };
        
        const downloadButton = document.getElementById('downloadButton');
        const clearButton = document.getElementById('clearButton');
        
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('
